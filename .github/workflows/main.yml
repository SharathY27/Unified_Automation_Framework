name : Unified Automation Framework workflow 

on : [push]

jobs:
    build:
        runs-on: ubuntu-latest
        
        steps:
          - name : Checkout repository
            uses: actions/checkout@v2
          
          - name: Set up JDK 21
            uses: actions/setup-java@v2
            with:
                java-version: 21
                distribution: adopt
                architecture: x64
                server-id: github 
                settings-path: ${{ github.workspace }} 
          - name: Install Google Chrome 
            run: |
              chmod +x ./scripts/InstallChrome.sh
                          ./scripts/InstallChrome.sh 

                
          - name: Cache Maven packages
            uses: actions/cache@v2
            with:
             path: ~/.m2
             key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
             restore-keys: ${{ runner.os }}-m2

          - name: Build and test
            run: mvn test 
 